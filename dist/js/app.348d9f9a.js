(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"21a3":function(t,e,a){"use strict";a("8326")},"222f":function(t,e,a){"use strict";a("e0a3")},"2fee":function(t,e,a){"use strict";a("a401")},"360c":function(t,e,a){"use strict";a("c9c5")},"45e5":function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf755","./tlh.js":"cf755","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=n(t);return a(e)}function n(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="4678"},5324:function(t,e,a){"use strict";a("b0f3")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},n=[],r=a("ed2b"),o={},c=Object(r["a"])(o,i,n,!1,null,null,null),l=c.exports,u=a("8c4f"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-all overflow-auto"},[a("div",{staticClass:"h-100vh container-md container-fluid"},[a("div",{staticClass:"h-100 d-flex justify-content-center row no-gutters"},[a("div",{staticClass:"col-md-5 align-self-center"},[a("div",{staticClass:"card border-0 px-3 br-30px shadow"},[a("div",{staticClass:"card-body"},[a("h4",{staticClass:"text-center text-blue my-3"},[t._v("Login")]),a("p",{staticClass:"font-weight-bold my-3 text-muted"},[t._v("Hi, Welcome back!")]),a("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.send()}}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"m-0",attrs:{for:"email"}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control border-top-0 border-left-0 border-right-0",attrs:{type:"email",id:"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"m-0",attrs:{for:"pass"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pass,expression:"pass"}],staticClass:"form-control py-0 border-top-0 border-left-0 border-right-0",attrs:{type:"password",id:"pass",required:""},domProps:{value:t.pass},on:{input:function(e){e.target.composing||(t.pass=e.target.value)}}})]),a("div",{staticClass:"text-right mb-3"},[a("b-link",{staticClass:"text-blue"},[t._v("Forgot Password?")])],1),a("button",{staticClass:"btn btn-lg btn-blue btn-block rounded-btn"},[t._v(" Login ")]),t._m(0),t._m(1),a("div",{staticClass:"text-center pt-3"},[t._v(" Don't have an account? "),a("b-link",{staticClass:"text-blue",on:{click:function(e){return t.$router.push("/register")}}},[t._v(" Sign Up")])],1)])])])])])])])},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row py-4"},[a("div",{staticClass:"col"},[a("hr")]),a("div",{staticClass:"col d-flex justify-content-center"},[a("span",{staticClass:"align-self-center"},[t._v(" Login With ")])]),a("div",{staticClass:"col"},[a("hr")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-lg btn-outline-blue btn-block rounded-btn"},[a("i",{staticClass:"fab fa-google"}),t._v(" Google ")])}],f=a("5530"),h=a("2f62"),g=(a("d3b7"),a("3d20")),p=a.n(g),v={data:function(){return{Toast:p.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",p.a.stopTimer),t.addEventListener("mouseleave",p.a.resumeTimer)}})}},methods:{AlertError:function(t){p.a.fire({icon:"error",title:"Oops...",text:t})},toastSuccess:function(t){this.Toast.fire({icon:"success",title:t})},toastDanger:function(t){this.Toast.fire({icon:"error",title:t})},confirm:function(t){return new Promise((function(e){p.a.fire({icon:"question",title:t,showCancelButton:!0,confirmButtonText:"Sure"}).then((function(t){t.isConfirmed&&e(!0)}))}))}}},b=v,C={mixins:[b],data:function(){return{email:"",pass:""}},methods:Object(f["a"])(Object(f["a"])({},Object(h["b"])({login:"auth/login"})),{},{send:function(){var t=this,e={email:this.email,pass:this.pass};this.login(e).then((function(){t.toastSuccess("Welcome ".concat(localStorage.getItem("name"))),t.$router.push("/chat")})).catch((function(e){t.toastDanger(e)}))}})},_=C,x=(a("222f"),Object(r["a"])(_,d,m,!1,null,"f8a2cbae",null)),j=x.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-all overflow-auto"},[a("div",{staticClass:"h-100vh container-md container-fluid"},[a("div",{staticClass:"h-100 d-flex justify-content-center row no-gutters"},[a("div",{staticClass:"col-md-5 align-self-center"},[a("div",{staticClass:"card border-0 px-3 br-30px shadow"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"d-flex w-100"},[a("b-link",{staticClass:"text-blue my-3 position-absolute",on:{click:function(e){return t.$router.push("/login")}}},[a("h4",[a("i",{staticClass:"fas fa-chevron-left"})])]),a("h4",{staticClass:"text-blue my-3 w-100 text-center"},[t._v("Register")])],1),a("p",{staticClass:"font-weight-bold my-3 text-muted"},[t._v(" Let's create your account! ")]),a("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.send()}}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"m-0",attrs:{for:"name"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control py-0 border-top-0 border-left-0 border-right-0",attrs:{type:"text",id:"name",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"m-0",attrs:{for:"email"}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control py-0 border-top-0 border-left-0 border-right-0",attrs:{type:"email",id:"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"m-0",attrs:{for:"pass"}},[t._v("Password")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.pass,expression:"pass"}],staticClass:"form-control py-0 border-top-0 border-left-0 border-right-0",attrs:{type:"password",id:"pass",required:""},domProps:{value:t.pass},on:{input:function(e){e.target.composing||(t.pass=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text bg-white border-top-0 border-right-0"},[a("b-link",{staticClass:"text-dark"},[a("i",{staticClass:"far fa-eye"})])],1)])])]),a("button",{staticClass:"btn btn-lg btn-blue btn-block rounded-btn"},[t._v(" Register ")]),t._m(0),t._m(1)])])])])])])])},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row py-4"},[a("div",{staticClass:"col"},[a("hr")]),a("div",{staticClass:"col d-flex justify-content-center"},[a("span",{staticClass:"align-self-center"},[t._v(" Register With ")])]),a("div",{staticClass:"col"},[a("hr")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-lg btn-outline-blue btn-block rounded-btn"},[a("i",{staticClass:"fab fa-google"}),t._v(" Google ")])}],w=(a("b0c0"),a("bc3a")),D=a.n(w),$={mixins:[b],data:function(){return{name:"",email:"",pass:""}},methods:{send:function(){var t=this,e={name:this.name,email:this.email,pass:this.pass};D.a.post("".concat("http://54.84.168.198:33553","/register"),e).then((function(e){t.toastSuccess(e.data.message),t.$router.push("/login")})).catch((function(e){e&&(e.response?(console.log(e.response),t.AlertError(e.response.data.message)):t.AlertError("Oops... We had trouble"))}))}}},U=$,I=(a("2fee"),Object(r["a"])(U,k,y,!1,null,"30542410",null)),O=I.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"h-100vh"},[a("AddFriend"),a("div",{staticClass:"h-100"},[a("div",{staticClass:"row no-gutters h-100 justify-content-end"},["setting"===t.$route.query.page?a("div",{staticClass:"h-100vh col-md-3 border-right overflow-auto",class:t.$route.params.chatId?"d-none d-lg-block":""},[a("div",[a("div",{staticClass:"container py-3"},[a("div",{staticClass:"row d-flex"},[a("div",{staticClass:"col-1 align-self-center"},[a("b-link",{on:{click:function(e){return t.$router.replace({query:{}})}}},[a("h4",{staticClass:"m-0 text-blue"},[a("i",{staticClass:"fas fa-chevron-left"})])])],1),a("div",{staticClass:"col align-self-center"},[a("h5",{staticClass:"text-blue m-0"},[t._v(" "+t._s(t.$store.getters["auth/getUserData"].email)+" ")])])]),a("div",{staticClass:"d-flex justify-content-center"},[a("div",{staticClass:"container pt-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 d-flex justify-content-center"},[a("span",{staticClass:"align-self-center"},[a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"setPhoto",accept:"image/png, image/jpeg"},on:{input:t.sendFile}}),a("b-link",{attrs:{onclick:"document.getElementById('setPhoto').click();"}},[a("img",{staticClass:"cover",staticStyle:{height:"100px",width:"100px"},attrs:{src:t.urlImage?t.urlImage:t.userData.img_photo?t.getImage(t.userData.img_photo):t.getImage("default.svg")},on:{onerror:function(e){t.urlImage}}})])],1)]),a("div",{staticClass:"col d-flex justify-content-center"},[a("div",{staticClass:"pt-3 align-self-center"},[a("h4",{staticClass:"text-center"},[t._v(t._s(t.userData.name_user))]),a("p",{staticClass:"text-muted text-md-center"},[t._v(" "+t._s(t.userData.email_user)+" ")])])])]),t._m(0),a("hr"),a("div",{staticClass:"pt-3"},[a("h5",{staticClass:"font-weight-bold"},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.name_user,expression:"userData.name_user"}],staticClass:"m-0 form-control p-0",attrs:{disabled:t.inputName},domProps:{value:t.userData.name_user},on:{input:function(e){e.target.composing||t.$set(t.userData,"name_user",e.target.value)}}}),t.inputName?a("b-link",{staticClass:"text-decoration-none text-blue",on:{click:function(e){t.inputName=!1}}},[t._v(" Tap to change name ")]):t._e(),t.inputName?t._e():a("b-link",{staticClass:"text-decoration-none text-blue",on:{click:function(e){return t.submitName()}}},[t._v(" Apply ")])],1),a("hr"),a("div",{staticClass:"py-3"},[a("h6",{staticClass:"font-weight-bold"},[t._v(" "+t._s(t.userData.bio_user)+" ")]),t._v(" Bio ")]),a("div",[t._v(" Location "),t.render?a("Maps",{attrs:{lat:t.userData.lat_user,long:t.userData.long_user}}):t._e(),a("div",[a("div",{staticClass:"w-100"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.setLocation()}}},[a("div",{staticClass:"mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.lat_user,expression:"userData.lat_user"}],staticClass:"form-control mt-2 w-100",attrs:{placeholder:"Latitude",type:"text"},domProps:{value:t.userData.lat_user},on:{input:function(e){e.target.composing||t.$set(t.userData,"lat_user",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userData.long_user,expression:"userData.long_user"}],staticClass:"form-control mt-2 w-100",attrs:{placeholder:"Longitude",type:"text"},domProps:{value:t.userData.long_user},on:{input:function(e){e.target.composing||t.$set(t.userData,"long_user",e.target.value)}}})]),t._m(1)])])])],1),t._m(2)])])])])]):a("div",{staticClass:"col-xl-3 col-md-5 col-lg-4 border-right",class:t.$route.params.chatId?"d-none d-lg-block":""},[a("div",{staticClass:"container py-3 h-200px"},[a("div",{staticClass:"row no-gutters"},[t._m(3),a("div",{staticClass:"col-2 d-flex justify-content-end"},[a("b-dropdown",{attrs:{variant:"link",size:"sm",right:"","no-caret":""}},[a("template",{slot:"button-content"},[a("span",{staticClass:"align-self-center"},[a("h3",{staticClass:"m-0 text-blue text-right"},[a("i",{staticClass:"fas fa-stream"})])])]),a("b-dropdown-item",{staticClass:"py-2",on:{click:function(e){return t.$router.push("?page=setting")}}},[a("i",{staticClass:"fas fa-cog"}),t._v(" Settings ")]),a("b-dropdown-item",[a("i",{staticClass:"far fa-user"}),t._v(" Contacts ")]),a("b-dropdown-item",{staticClass:"py-2"},[a("i",{staticClass:"fas fa-phone"}),t._v(" Calls ")]),a("b-dropdown-item",[a("i",{staticClass:"fas fa-save"}),t._v(" Save Messages ")]),a("b-dropdown-item",{staticClass:"py-2"},[a("i",{staticClass:"fas fa-user-plus"}),t._v(" Invite Friends ")]),a("b-dropdown-item",[a("i",{staticClass:"far fa-question-circle"}),t._v(" Telegram FAQ ")])],2)],1)]),a("div",{staticClass:"row no-gutters pt-4"},[t._m(4),a("div",{staticClass:"col-2 d-flex justify-content-end"},[a("span",{staticClass:"align-self-center"},[a("b-link",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}]},[a("h3",{staticClass:"text-blue"},[a("i",{staticClass:"fas fa-plus"})])])],1)])]),t._m(5)]),a("div",{staticClass:"overflow-auto h-remaining-header w-100"},[t.getUserData.length>0?a("span",t._l(t.getUserData,(function(t,e){return a("div",{key:e},[a("ListChat",{staticClass:"pb-3",attrs:{data:t}})],1)})),0):a("div",{staticClass:"d-flex h-remaining-header justify-content-center"},[a("div",{staticClass:"align-self-center"},[a("div",{staticClass:"align-self-center"},[a("b-link",{staticClass:"text-decoration-none"},[a("h3",{staticClass:"text-blue"},[t._v("Feel lonely?")]),a("p",{staticClass:"text-muted"},[t._v("Start chat with your contact")])])],1)])])])]),a("div",{staticClass:"col overflow-auto h-100",class:"friendProfile"===t.$route.query.page?"d-none d-lg-block":""},[t.$route.params.chatId?a("div",[a("roomChat",{key:t.$route.params.chatId,attrs:{data:t.$route.params.chatId}})],1):a("div",{staticClass:"h-100 d-flex justify-content-center"},[t._m(6)])]),"friendProfile"===t.$route.query.page?a("div",{staticClass:"col-12 friendProfile"},[a("div",{staticClass:"container pt-4 w-100 "},[a("div",{staticClass:"row d-flex mb-3"},[a("div",{staticClass:"col-1 align-self-center"},[a("b-link",{staticClass:"text-blue text-decoration-none",on:{click:function(e){t.$router.push({query:{}}).catch((function(){}))}}},[a("h3",{staticClass:"m-0"},[a("i",{staticClass:"fas fa-chevron-left"})])])],1),a("div",{staticClass:"col align-self-center"},[a("h5",{staticClass:"m-0 text-blue"},[t._v(" "+t._s(t.getUserData.filter((function(e){return e.unique_room==t.$route.params.chatId}))[0].participant.filter((function(e){return e.email_user!=t.$store.getters["auth/getUserData"].email}))[0].email_user)+" ")])])]),a("div",{staticClass:"text-center w-100 mb-3"},[a("img",{staticClass:"square-image ",attrs:{src:t.getUserData.filter((function(e){return e.unique_room==t.$route.params.chatId}))[0].participant.filter((function(e){return e.email_user!=t.$store.getters["auth/getUserData"].email}))[0].img_photo?t.getImage(t.getUserData.filter((function(e){return e.unique_room==t.$route.params.chatId}))[0].participant.filter((function(e){return e.email_user!=t.$store.getters["auth/getUserData"].email}))[0].img_photo):t.getImage("default.svg"),alt:""}})]),a("div",{staticClass:"text-center"},[a("h5",{staticClass:"font-weight-bold m-0"},[t._v(" "+t._s(t.getUserData.filter((function(e){return e.unique_room==t.$route.params.chatId}))[0].participant.filter((function(e){return e.email_user!=t.$store.getters["auth/getUserData"].email}))[0].name_user)+" ")]),a("hr",{staticClass:" m-0"}),a("p",[t._v(" "+t._s(t.getUserData.filter((function(e){return e.unique_room==t.$route.params.chatId}))[0].participant.filter((function(e){return e.email_user!=t.$store.getters["auth/getUserData"].email}))[0].bio_user)+" ")])])]),a("div",{staticClass:"container"},[a("h5",{staticClass:"font-weight-bold"},[t._v("Location")]),t.getUserData.filter((function(e){return e.unique_room==t.$route.params.chatId}))[0].participant.filter((function(e){return e.email_user!=t.$store.getters["auth/getUserData"].email}))[0]?a("div",[a("Maps",{attrs:{lat:t.getUserData.filter((function(e){return e.unique_room==t.$route.params.chatId}))[0].participant.filter((function(e){return e.email_user!=t.$store.getters["auth/getUserData"].email}))[0].lat_user,long:t.getUserData.filter((function(e){return e.unique_room==t.$route.params.chatId}))[0].participant.filter((function(e){return e.email_user!=t.$store.getters["auth/getUserData"].email}))[0].long_user}})],1):t._e()])]):t._e()])])],1)},N=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pt-3"},[a("h5",{staticClass:"font-weight-bold"},[t._v("Account")]),a("p",{staticClass:"m-0"},[t._v("+375(29)9638433")]),a("p",{staticClass:"text-blue"},[t._v("Tap to change phone number")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100 text-right"},[a("button",{staticClass:"btn btn-success"},[t._v(" Set Location ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pt-3"},[a("h5",{staticClass:"font-weight-bold"},[t._v("Settings")]),a("div",{staticClass:"d-flex justify-content-between py-2"},[a("div",{staticClass:"d-flex"},[a("h6",{staticClass:"far fa-bell text-blue mr-4"}),a("h6",{staticClass:"text-blue"},[t._v("Notifications and Sounds")])]),a("h6",{staticClass:"fas fa-chevron-right text-blue"})]),a("div",{staticClass:"d-flex justify-content-between"},[a("div",{staticClass:"d-flex"},[a("h6",{staticClass:"fas fa-lock text-blue mr-4"}),a("h6",{staticClass:"text-blue"},[t._v("Privacy and Security")])]),a("h6",{staticClass:"fas fa-chevron-right text-blue"})]),a("div",{staticClass:"d-flex justify-content-between py-2"},[a("div",{staticClass:"d-flex"},[a("h6",{staticClass:"fas fa-chart-line text-blue mr-4"}),a("h6",{staticClass:"text-blue"},[t._v("Data and Storage")])]),a("h6",{staticClass:"fas fa-chevron-right text-blue"})]),a("div",{staticClass:"d-flex justify-content-between"},[a("div",{staticClass:"d-flex"},[a("h6",{staticClass:"far fa-comment-dots text-blue mr-4"}),a("h6",{staticClass:"text-blue"},[t._v("Chat settings")])]),a("h6",{staticClass:"fas fa-chevron-right text-blue"})]),a("div",{staticClass:"d-flex justify-content-between py-2"},[a("div",{staticClass:"d-flex"},[a("h6",{staticClass:"fas fa-laptop text-blue mr-4"}),a("h6",{staticClass:"text-blue"},[t._v("Devices")])]),a("h6",{staticClass:"fas fa-chevron-right text-blue"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col"},[a("h3",{staticClass:"text-blue"},[t._v("Telegram")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col d-flex"},[a("span",{staticClass:"align-self-center w-100"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text bg-light border-0",attrs:{id:"basic-addon2"}},[a("i",{staticClass:"fas fa-search"})])]),a("input",{staticClass:"form-control bg-light border-0",attrs:{type:"text",placeholder:"Search"}})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row no-gutters pt-3"},[a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-block btn-blue br-30px"},[t._v("All")])]),a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-block"},[t._v("Important")])]),a("div",{staticClass:"col"},[a("button",{staticClass:"btn btn-block"},[t._v("Unread")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"align-self-center"},[a("h4",{staticClass:"text-muted"},[t._v(" Please select a chat to start messaging ")])])}],E=(a("99af"),a("3ca3"),a("ddb0"),a("2b3d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("b-link",{staticClass:"text-decoration-none text-dark",on:{click:function(e){t.$router.push("/chat/"+t.data.unique_room).catch((function(){}))}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3 d-flex justify-content-center"},[a("div",{staticClass:"align-self-center"},[1==t.data.type_room?a("img",{staticClass:"cover",staticStyle:{height:"50px",width:"50px"},attrs:{src:t.data.participant.filter((function(e){return e.email_user!=t.$store.getters["auth/getUserData"].email}))[0].img_photo?t.getImage_private(t.data.participant.filter((function(e){return e.email_user!=t.$store.getters["auth/getUserData"].email}))[0].img_photo):t.getImage_private("default.svg")},on:{onerror:function(e){t.getImage_private("default.svg")}}}):a("img",{staticClass:"w-100 h-100 cover",staticStyle:{height:"50px",width:"50px"},attrs:{src:t.data.participant.filter((function(e){return e.email_user!=t.$store.getters["auth/getUserData"].email}))[0].img_photo?t.getImage_group(t.data.participant.filter((function(e){return e.email_user!=t.$store.getters["auth/getUserData"].email}))[0].img_photo):t.getImage_group("default.svg")},on:{onerror:function(e){t.getImage_group("default.svg")}}})])]),a("div",{staticClass:"col"},[a("div",{staticClass:"align-self-center"},[a("div",{staticClass:"d-flex justify-content-between"},[1==t.data.type_room?a("h5",{staticClass:"m-0 font-weight-bold"},[a("v-clamp",{attrs:{autoresize:"","max-lines":1}},[t._v(" "+t._s(t.data.participant.filter((function(e){return e.email_user!=t.$store.getters["auth/getUserData"].email}))[0].name_user)+" ")])],1):t._e(),t.data.lastChat[0]?a("p",{staticClass:"pl-3 m-0 text-muted"},[a("small",[t._v(" "+t._s(t.toDateLeft(t.data.lastChat[0].time_chat))+" ")])]):t._e()]),t.data.lastChat[0]?a("div",{staticClass:"d-flex justify-content-between"},[a("v-clamp",{staticClass:"m-0 text-muted d-block",attrs:{autoresize:"","max-lines":2}},[t._v(" "+t._s(t.data.lastChat[0].text_chat)+" ")]),a("div",{staticClass:"align-self-center"},[a("span",{staticClass:"badge badge-pill btn-blue d-flex"},[t._v("1")])])],1):t._e()])])])])],1)}),P=[],T=a("8e27"),L=a.n(T),z=a("3f87"),q=a("c1df"),M=a.n(q),Y={methods:{toDate:function(t){return M.a.unix(t).format("DD-MM-YYYY")===M()().format("DD-MM-YYYY")?M.a.unix(t).format("HH:mm"):M.a.unix(t).format("HH:mm DD-MM-YYYY")},toDateLeft:function(t){return M.a.unix(t).format("DD-MM-YYYY")===M()().format("DD-MM-YYYY")?M.a.unix(t).format("HH:mm"):M.a.unix(t).format("DD-MM-YYYY")}}},R=Y,A={mixins:[R],components:{VClamp:z["a"]},data:function(){return{image:"",socket:L()("".concat("http://54.84.168.198:33553"))}},props:["data","lastChat"],methods:{getImage_private:function(t){return"".concat("http://54.84.168.198:33553","/profile-img/").concat(t)},getImage_group:function(t){return"".concat("http://54.84.168.198:33553","/group-img/").concat(t)}},mounted:function(){}},F=A,B=(a("81b1"),a("ea0e"),Object(r["a"])(F,E,P,!1,null,"5de8b482",null)),G=B.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"h-100vh"},[t.target.length>0?a("div",{staticClass:"navBar shadow"},[a("div",{staticClass:"d-flex h-100"},[a("div",{staticClass:"align-self-center w-100"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"d-lg-none col-1 d-flex"},[a("b-link",{staticClass:"align-self-center",on:{click:function(e){t.$router.push("/chat").catch((function(){}))}}},[a("h4",{staticClass:"text-blue m-0 fas fa-chevron-left"})])],1),a("div",{staticClass:"col d-flex"},[a("div",{staticClass:"mr-3"},[1==t.target[0].type_room?a("img",{staticClass:"cover",staticStyle:{height:"50px",width:"50px"},attrs:{src:t.target[0].img_photo?t.getImage_private(t.target[0].img_photo):t.getImage_private("default.svg")},on:{onerror:function(e){t.getImage_private("default.svg")}}}):a("img",{staticClass:"w-100 h-100",staticStyle:{"max-height":"50px"},attrs:{src:t.target[0].img_photo?t.getImage_group(t.target[0].img_photo):t.getImage_group("default.svg")},on:{onerror:function(e){t.getImage_group("default.svg")}}})]),a("div",[a("b-link",{staticClass:"text-dark text-decoration-none",on:{click:function(e){return t.lookProfile()}}},[1==t.target[0].type_room?a("span",[a("h4",{staticClass:"m-0 d-md-none"},[t._v(" "+t._s(t.target[0].name_user.length>8?t.target[0].name_user.split("").splice(0,8).join("")+"...":t.target[0].name_user)+" ")]),a("h4",{staticClass:"m-0 d-none d-md-block"},[t._v(" "+t._s(t.target[0].name_user)+" ")]),a("p",{staticClass:"m-0"},[a("small",{staticClass:"text-blue"},[t._v(t._s(t.getOnline))])])]):t._e()])],1)]),a("div",{staticClass:"col-1 d-flex justify-content-end"},[a("b-dropdown",{attrs:{variant:"link",size:"sm","no-caret":"",right:"","no-carets":""}},[a("template",{slot:"button-content"},[a("span",{staticClass:"align-self-center"},[a("h4",{staticClass:"m-0 text-blue"},[a("i",{staticClass:"fas fa-ellipsis-v"})])])]),a("b-dropdown-item",[a("i",{staticClass:"fas fa-phone"}),t._v(" Call ")]),a("b-dropdown-item",[a("i",{staticClass:"fas fa-trash"}),t._v(" Delete Chat History ")]),a("b-dropdown-item",[a("i",{staticClass:"fas fa-bell-slash"}),t._v(" Mute Notifications ")]),a("b-dropdown-item",[a("i",{staticClass:"fas fa-search"}),t._v(" Search ")])],2)],1)])])])])]):t._e(),a("div",{staticClass:"bg-light d-flex align-items-end"},[a("div",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll"}],staticClass:"h-content overflow-auto container px-4 py-3"},t._l(t.chat,(function(e,s){return a("span",{key:s,staticClass:"w-100 h-100"},[e.email_user==t.$store.getters["auth/getUserData"].email?a("div",{staticClass:"w-100 d-flex justify-content-end"},[a("div",{staticClass:"my-2 bg-white max-bubble w-100",class:t.chatSend(s)},[a("div",{staticClass:"container py-3 text-right"},[t._v(" "+t._s(e.text_chat)+" "),a("p",{staticClass:"m-0"},[a("small",{staticClass:"text-muted"},[t._v(" "+t._s(t.toDate(e.time_chat))+" "),a("i",{staticClass:"fas fa-check-double"})])])])])]):a("div",{staticClass:"my-2 bg-blue max-bubble",class:t.chatReceive(s)},[a("div",{staticClass:"container py-3"},[t._v(" "+t._s(e.text_chat)+" "),a("p",{staticClass:"m-0"},[a("small",[t._v(t._s(t.toDate(e.time_chat)))])])])])])})),0)]),a("div",{staticClass:"inputBar shadow"},[a("form",{staticClass:"h-100",on:{submit:function(e){return e.preventDefault(),t.sendChat()}}},[a("div",{staticClass:"container d-flex h-100"},[a("div",{staticClass:"align-self-center w-100 px-4"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"form-control border-0 bg-light br-30px",attrs:{type:"text",placeholder:"Type your message..."},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("b-dropdown",{attrs:{id:"dropdown-dropup",dropup:"",text:"Drop-Up",variant:"light","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("i",{staticClass:"fas fa-plus text-blue"})]},proxy:!0}])},[a("b-dropdown-item",{attrs:{href:"#"}},[a("i",{staticClass:"far fa-image"}),t._v(" Images")]),a("b-dropdown-item",{attrs:{href:"#"}},[a("i",{staticClass:"far fa-file"}),t._v(" Documents")]),a("b-dropdown-item",{attrs:{href:"#"}},[a("i",{staticClass:"far fa-user"}),t._v(" Contacts")]),a("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-maps",modifiers:{"modal-maps":!0}}]},[a("i",{staticClass:"fas fa-map-marker-alt"}),t._v(" Location")])],1),t._m(0),t._m(1)],1)])]),a("transition",{attrs:{name:"append"}},[t.text?a("div",{staticClass:"align-self-center"},[a("button",{staticClass:"btn btn-light",attrs:{type:"submit"}},[a("h3",{staticClass:"m-0 text-blue"},[a("i",{staticClass:"fab fa-telegram-plane"})])])]):t._e()])],1)])])])},W=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-light text-blue",attrs:{type:"button"}},[a("i",{staticClass:"fas fa-surprise"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-light text-blue br-30px",attrs:{type:"button"}},[a("i",{staticClass:"fas fa-dice-one"})])}],J=(a("4de4"),{mixins:[R],props:["data"],data:function(){return{chat:[],socket:L()("".concat("http://54.84.168.198:33553")),text:"",target:[],friendProfile:!1}},methods:{chatSend:function(t){return t>0&&t+1<this.chat.length?this.chat[t].email_user===this.chat[t-1].email_user&&this.chat[t].email_user===this.chat[t+1].email_user?"chatSquare":this.chat[t].email_user!=this.chat[t+1].email_user?"sendEnd":"sendFirst":"sendFirst"},chatReceive:function(t){return t>0&&t+1<this.chat.length?this.chat[t].email_user===this.chat[t-1].email_user&&this.chat[t].email_user===this.chat[t+1].email_user?"chatSquare":this.chat[t].email_user!=this.chat[t+1].email_user?"receiveEnd":"receiveFirst":0===t?"receiveFirst":"receiveEnd"},sendChat:function(){this.socket.emit("send-chat",{text:this.text,to:this.$route.params.chatId,from:this.$store.getters["auth/getUserData"].email}),this.text=""},getSendChat:function(){var t=this;this.socket.on("res-send-chat",(function(e){t.chat=e}))},getChat:function(){this.socket.emit("get-chat",this.data)},resGetChat:function(){var t=this;this.socket.on("res-get-chat",(function(e){t.chat=e}))},getDataTarget:function(){if(this.$route.params.chatId){var t={id:this.$route.params.chatId,email:this.$store.getters["auth/getUserData"].email};this.socket.emit("get-data-target",t)}},resGetDataTarget:function(){var t=this;this.socket.on("res-data-target",(function(e){t.target=e})),this.socket.on("updateList",(function(){var e={id:t.$route.params.chatId,email:t.$store.getters["auth/getUserData"].email};t.socket.emit("get-data-target",e),t.socket.on("res-data-target",(function(e){t.target=e}))}))},getImage_private:function(t){return"".concat("http://54.84.168.198:33553","/profile-img/").concat(t)},getImage_group:function(t){return"".concat("http://54.84.168.198:33553","/group-img/").concat(t)},joinRoom:function(){this.$route.params.chatId&&this.socket.emit("join-room",this.$route.params.chatId)},lookProfile:function(){this.$router.push({query:{page:"friendProfile"}})}},computed:Object(f["a"])(Object(f["a"])({},Object(h["c"])({xgetOnline:"socket/getOnlineState"})),{},{getOnline:function(){var t=this;return this.xgetOnline.filter((function(e){return e.email==t.target[0].email_user})).length>0?"Online":"Offline"}}),mounted:function(){this.joinRoom(),this.getChat(),this.resGetChat(),this.getDataTarget(),this.resGetDataTarget()}}),V=J,Q=(a("d8fb"),a("5324"),a("360c"),Object(r["a"])(V,H,W,!1,null,"73ca0a4c",null)),K=Q.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"modal-1",title:"BootstrapVue","hide-footer":"","hide-header":""}},[a("h4",[t._v("Add Room")]),a("hr"),a("small",[t._v("* This will create new room even if you had a room with your friend")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Enter your friend's email here"},domProps:{value:t.email},on:{input:[function(e){e.target.composing||(t.email=e.target.value)},function(e){return t.find()}]}}),a("div",{staticClass:"container bg-light my-2 py-2"},[t.suggested.length>0?a("span",t._l(t.suggested,(function(e,s){return a("div",{key:s},[a("b-link",{staticClass:"text-dark text-decoration-none",on:{click:function(a){return t.addNewRoom(e.email_user)}}},[a("div",{staticClass:"row d-flex"},[a("div",{staticClass:"col-4"},[a("img",{staticClass:"w-100 h-100 cover-img",attrs:{src:e.img_photo?t.getImage(e.img_photo):t.getImage("default.svg"),onerror:"this.onerror=`null`;this.src="+t.getImage(e.img_photo),alt:""}})]),a("div",{staticClass:"col align-self-center h-100"},[a("h4",{staticClass:"font-weight-bold m-0"},[t._v(" "+t._s(e.name_user)+" ")]),a("hr",{staticClass:"m-0"}),a("p",{staticClass:"m-0"},[t._v(" "+t._s(e.bio_user)+" ")])])])])],1)})),0):a("span",[t._v(" Nothing found ")])])])],1)},Z=[],tt={data:function(){return{email:"",suggested:[]}},methods:{getImage:function(t){return"".concat("http://54.84.168.198:33553","/profile-img/").concat(t)},find:function(){var t=this;D.a.get("".concat("http://54.84.168.198:33553","/find?email=").concat(this.email,"&me=").concat(this.$store.getters["auth/getUserData"].email),{headers:{token:this.$store.getters["auth/getToken"]}}).then((function(e){t.suggested=e.data.message.filter((function(e){return e.email_user!=t.$store.getters["auth/getUserData"].email}))})).catch((function(t){console.error(t)}))},addNewRoom:function(t){var e=this;D.a.post("".concat("http://54.84.168.198:33553","/addRoom"),{participant1:t,participant2:this.$store.getters["auth/getUserData"].email},{headers:{token:this.$store.getters["auth/getToken"]}}).then((function(t){e.$router.push("/chat/".concat(t.data.message)),e.$bvModal.hide("modal-1")})).catch((function(t){console.error(t)}))}}},et=tt,at=(a("87c5"),Object(r["a"])(et,X,Z,!1,null,"e499e7ce",null)),st=at.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex h-100 w-100"},[a("GmapMap",{staticStyle:{height:"50vh",width:"100%"},attrs:{center:t.center,zoom:15,"map-type-id":"terrain"}},t._l(t.markers,(function(e,s){return a("GmapMarker",{key:s,attrs:{position:e.position},on:{click:function(a){t.center=e.position}}})})),1)],1)])},nt=[],rt=(a("a9e3"),{props:["lat","long"],data:function(){return{center:{lat:-6.450968,lng:106.8768418},markers:[{id:"c",position:{lat:-6.1753924,lng:106.8249641}}]}},mounted:function(){console.log(this.lat),console.log(this.long),this.center={lat:isNaN(Number(this.lat))?0:Number(this.lat),lng:isNaN(Number(this.long))?0:Number(this.long)},this.markers=[{id:"position",position:{lat:isNaN(Number(this.lat))?0:Number(this.lat),lng:isNaN(Number(this.long))?0:Number(this.long)}}]}}),ot=rt,ct=Object(r["a"])(ot,it,nt,!1,null,null,null),lt=ct.exports,ut={data:function(){return{socket:L()("".concat("http://54.84.168.198:33553"))}},methods:Object(f["a"])(Object(f["a"])({},Object(h["b"])({xSetListUsers:"socket/setListUsers",xgetOnlineUsers:"socket/xgetOnlineUsers"})),{},{setListUsers:function(t){var e=this;t?this.socket.emit("get-user-list",{roomId:t,email:this.$store.getters["auth/getUserData"].email}):this.socket.emit("get-user-list",{email:this.$store.getters["auth/getUserData"].email}),this.socket.on("res-user-list",(function(t){e.xSetListUsers(t)})),this.socket.on("updateList",(function(){t?e.socket.emit("get-user-list",{roomId:t,email:e.$store.getters["auth/getUserData"].email}):e.socket.emit("get-user-list",{email:e.$store.getters["auth/getUserData"].email})}))},getOnlineUsers:function(){var t=this;this.socket.on("onlined",(function(e){t.xgetOnlineUsers(e)})),this.socket.on("disconnect",(function(e){t.xgetOnlineUsers(e)}))},hSendChat:function(t){this.socket.emit("send-chat",{text:t,to:this.$route.params.chatId,from:this.$store.getters["auth/getUserData"].email})}}),computed:Object(f["a"])(Object(f["a"])({},Object(h["c"])({getUserState:"socket/getUserState",getOnline:"socket/getOnlineState"})),{},{getUserData:function(){return this.getUserState}}),mounted:function(){this.setListUsers(this.$route.params.chatId),this.getOnlineUsers()}},dt=ut,mt={mixins:[dt,b],components:{ListChat:G,roomChat:K,AddFriend:st,Maps:lt},data:function(){return{render:!0,form:{},userData:{},urlImage:"",inputName:!0}},methods:{sendFile:function(t){var e=this,a=t.target.files[0];if("image/jpeg"!==a["type"]&&"image/png"!==a["type"])this.toastDanger("Please insert image with format jpg/jpeg/png");else{this.urlImage=URL.createObjectURL(a);var s=new FormData;s.append("image",a),s.append("email",this.$store.getters["auth/getUserData"].email),D.a.post("".concat("http://54.84.168.198:33553","/setProfile/"),s,{headers:{token:this.$store.getters["auth/getToken"]}}).then((function(){e.socket.emit("change-profile")})).catch((function(t){return console.error(t.response)}))}},setLocation:function(){var t=this,e=this.userData.lat_user,a=this.userData.long_user;e&&a&&D.a.post("".concat("http://54.84.168.198:33553","/setLocation"),{email:this.$store.getters["auth/getUserData"].email,lat:e,long:a},{headers:{token:this.$store.getters["auth/getToken"]}}).then((function(){t.socket.emit("change-profile")})).catch((function(t){console.error(t)})).finally((function(){t.render=!1,t.$nextTick().then((function(){t.render=!0}))}))},submitName:function(){var t=this;this.userData.name_user&&D.a.post("".concat("http://54.84.168.198:33553","/changeName"),{email:this.$store.getters["auth/getUserData"].email,name:this.userData.name_user},{headers:{token:this.$store.getters["auth/getToken"]}}).then((function(){t.socket.emit("change-profile")})).catch((function(t){console.error(t)})).finally((function(){t.inputName=!0}))},getImage:function(t){return"".concat("http://54.84.168.198:33553","/profile-img/").concat(t)},login:function(){this.socket.emit("logged-in",this.$store.getters["auth/getUserData"].email)},getUser:function(){var t=this;D.a.post("".concat("http://54.84.168.198:33553","/user"),{email:this.$store.getters["auth/getUserData"].email},{headers:{token:this.$store.getters["auth/getToken"]}}).then((function(e){t.userData=e.data.message[0]})).catch((function(t){console.error(t.response)}))}},mounted:function(){this.login(),this.getUser()}},ft=mt,ht=(a("21a3"),a("aae3"),Object(r["a"])(ft,S,N,!1,null,"a8ee6d02",null)),gt=ht.exports,pt={namespaced:!0,state:function(){return{token:localStorage.getItem("token")||null,name:localStorage.getItem("name")||null,email:localStorage.getItem("email")||null}},getters:{getToken:function(t){return t.token},getUserData:function(t){return{name:t.name,email:t.email}}},mutations:{setToken:function(t,e){localStorage.setItem("token",e.token),t.token=e.token,localStorage.setItem("name",e.name),t.name=e.name,localStorage.setItem("email",e.email),t.email=e.email}},actions:{login:function(t,e){return new Promise((function(a,s){D.a.post("".concat("http://54.84.168.198:33553","/login"),e).then((function(e){t.commit("setToken",{token:e.data.message.token,name:e.data.message.name,email:e.data.message.email}),a(e)})).catch((function(t){s(t.response.data.message)}))}))},register:function(t,e){return new Promise((function(t,a){D.a.post("".concat("http://54.84.168.198:33553","/register"),e).then((function(e){t(e)})).catch((function(t){a(t)}))}))}}},vt=pt,bt={namespaced:!0,state:function(){return{onlineUsers:[],listUsers:[]}},mutations:{setList:function(t,e){t.listUsers=e},setOnline:function(t,e){t.onlineUsers=e}},actions:{setListUsers:function(t,e){var a=t.commit;a("setList",e)},xgetOnlineUsers:function(t,e){var a=t.commit;a("setOnline",e)}},getters:{getUserState:function(t){return t.listUsers},getEmail:function(t,e,a,s){return s["auth/getUserData"].email},getOnlineState:function(t){return t.onlineUsers}}},Ct=bt;s["default"].use(h["a"]);var _t=new h["a"].Store({state:{},mutations:{},actions:{},modules:{auth:vt,socket:Ct}});s["default"].use(u["a"]);var xt=[{path:"/",redirect:_t.getters["auth/getToken"]?"/chat":"/login"},{path:"/chat/:chatId",name:"Chat",component:gt,meta:{for:"logged"}},{path:"/chat/",name:"Root",component:gt,meta:{for:"logged"}},{path:"/login",name:"Login",component:j,meta:{for:"unlog"}},{path:"/register",name:"Register",component:O,meta:{for:"unlog"}}],jt=new u["a"]({mode:"history",base:"/",routes:xt});jt.beforeEach((function(t,e,a){"unlog"===t.meta.for?_t.getters["auth/getToken"]?jt.push("/"):a():"logged"===t.meta.for?_t.getters["auth/getToken"]?a():jt.push("/login"):a()}));var kt=jt,yt=a("5f5b"),wt=a("b1e0"),Dt=a("9990"),$t=a.n(Dt),Ut=(a("f9e3"),a("2dd8"),a("dab2"),a("755e"));s["default"].use($t.a),s["default"].use(yt["a"]),s["default"].use(wt["a"]),s["default"].config.productionTip=!1,s["default"].use(Ut,{load:{key:"".concat("AIzaSyA_M66_JC1Uk5T011AshAvvNTysIVqpvao"),libraries:"places"}}),new s["default"]({router:kt,store:_t,render:function(t){return t(l)}}).$mount("#app")},"81b1":function(t,e,a){"use strict";a("daaf")},8326:function(t,e,a){},"87c5":function(t,e,a){"use strict";a("a97d")},"8ac3":function(t,e,a){},a401:function(t,e,a){},a92a:function(t,e,a){},a97d:function(t,e,a){},aae3:function(t,e,a){"use strict";a("a92a")},b0f3:function(t,e,a){},c9c5:function(t,e,a){},d8fb:function(t,e,a){"use strict";a("8ac3")},daaf:function(t,e,a){},dab2:function(t,e,a){},e0a3:function(t,e,a){},ea0e:function(t,e,a){"use strict";a("45e5")}});
//# sourceMappingURL=app.348d9f9a.js.map